<div class="container">
  <div class="hero">
    <div class="hero-content">
      <h1>HealthScope</h1>
      <p class="muted subtitle">Explore medical conditions, symptoms, and geographical health factors</p>

      <form class="search-row" (ngSubmit)="doSearch()">
        <input
          class="search-input"
          name="q"
          [(ngModel)]="q"
          placeholder="Search (e.g., asthma, hypertension, diabetes)"
          autocomplete="off"
          [disabled]="loading"
        />
        <button type="submit" class="search-button" [disabled]="loading">
          <span *ngIf="!loading">Search</span>
          <span *ngIf="loading">
            <span class="spinner"></span>
            Searching...
          </span>
        </button>
      </form>
    </div>
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <!-- Results with fade-in animation -->
  <div *ngIf="results.length && !loading" style="animation: fadeIn 0.4s ease-out;">
    <p class="muted" style="font-size: 14px; margin-bottom: 16px;">
      Found {{ results.length }} result<span *ngIf="results.length !== 1">s</span>
    </p>
    <ul class="list">
      <li *ngFor="let item of results; let i = index" [style.animation-delay]="(i * 50) + 'ms'">
        <a [routerLink]="['/condition', item.id]" class="search-result">
          <b>{{ item.label }}</b>
        </a>
        <div class="muted" *ngIf="item.description">{{ item.description }}</div>
      </li>
    </ul>
  </div>

  <!-- Empty state -->
  <div *ngIf="!results.length && !loading && lastQuery.length >= 2" style="text-align: center; margin-top: 48px; animation: fadeIn 0.4s ease-out;">
    <p class="muted">No results found for "{{ lastQuery }}"</p>
    <p class="muted small">Try different wording, check spelling, or broaden your search</p>
  </div>

  <!-- Initial state hint -->
  <div *ngIf="!results.length && !loading && q.length < 2" style="text-align: center; margin-top: 48px; opacity: 0.5;">
    <p class="muted">Start typing to search for conditions</p>
  </div>
</div>
